<div id="portfolios-form" class="page-layout carded fullwidth" fusePerfectScrollbar>
    <!-- TOP BACKGROUND -->
    <!-- <div class="accent"></div> -->
    <!-- / TOP BACKGROUND -->

    <!-- CENTER -->
    <div class="center p-16" fxLayout="column" fxLayoutAlign="space-between none" fxLayoutGap="10px">
        <!-- CONTENT CARD (INFORMASI PORTFOLIO TOKO) -->
        <div class="content-card p-16" fxLayout="column" fxLayoutAlign="start none" fxLayoutGap="25px">
            <span class="font-weight-600 font-size-24 line-height-20">
                {{ formTitle }}
            </span>
        
            <div class="pt-0 line-height-1.75">
                <form class="w-100-p" [formGroup]="form" fxLayout="column" fxFlex fxLayoutGap="5px" novalidate>
                    <!-- PORTFOLIO NAME -->
                    <div
                        class="custom-field"
                        fxLayout="row"
                        fxLayoutAlign="space-between stretch"
                    >
                        <label
                            fxFlexAlign="center"
                            fxFlex="18"
                            class="pr-0"
                            [class.mat-error]="hasError(form.get('name'))"
                        >
                            <span
                                class="red-500-fg"
                            >* </span>Portfolio Name
                        </label>
                
                        <mat-form-field appearance="outline" fxFlex="80">
                            <input
                                matInput
                                name="name"
                                formControlName="name"
                            />
                            <mat-error *ngIf="hasError(form.get('name'))">
                                {{ getFormError(form.get('name')) }}
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <!-- / PORTFOLIO NAME -->
                    <!-- INVOICE GROUP (FAKTUR) -->
                    <div
                        class="custom-field"
                        fxLayout="row"
                        fxLayoutAlign="space-between start"
                    >
                        <label
                            fxFlexAlign="center"
                            fxFlex="18"
                            class="pr-0"
                            [class.mat-error]="hasError(form.get('invoiceGroup'))"
                        >
                            <span
                                class="red-500-fg"
                            >* </span>Faktur
                        </label>

                        <mat-form-field fxFlexAlign="center" appearance="outline" fxFlex="80">
                            <mat-select
                                #invoiceGroup
                                name="invoiceGroup"
                                formControlName="invoiceGroup"
                                (selectionChange)="invoiceGroupSub.next($event.value)"
                            >
                                <mat-option
                                    *ngFor="let invoiceGroup of invoiceGroups"
                                    [value]="invoiceGroup.id"
                                >
                                    {{ invoiceGroup.name }}
                                </mat-option>
                            </mat-select>
                            <mat-error *ngIf="hasError(form.get('invoiceGroup'))">
                                {{ getFormError(form.get('invoiceGroup')) }}
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <!-- / INVOICE GROUP (FAKTUR) -->
                    <!-- WAREHOUSE -->
                    <div
                        class="custom-field"
                        fxLayout="row"
                        fxLayoutAlign="space-between start"
                    >
                        <label
                            fxFlexAlign="center"
                            fxFlex="18"
                            class="pr-0"
                            [class.mat-error]="hasError(form.get('warehouse'))"
                        >
                            <span
                                class="red-500-fg"
                            >* </span>Warehouse
                        </label>

                        <select-single-warehouse
                            [required]="true"
                            (selected)="onSelectedWarehouse($event)"
                            fxFlexAlign="center"
                            fxFlex="80"
                        ></select-single-warehouse>
                    </div>
                    <!-- / WAREHOUSE -->

                </form>
            </div>

            <div
                fxLayout="row"
                fxLayoutAlign="start none"
            >
                <div class="font-weight-600 font-size-24 line-height-20">Find Store</div>
            </div>

            <mat-tab-group color="accent" animationDuration="0ms" (selectedIndexChange)="updateSelectedTab($event)">
                <!-- IN PORTFOLIO -->
                <mat-tab label="In Portfolio"></mat-tab>
                <!-- / IN PORTFOLIO -->
                <!-- OUT OF PORTFOLIO -->
                <mat-tab label="Out of Portfolio"></mat-tab>
                <!-- / OUT OF PORTFOLIO -->
            </mat-tab-group>

            <div class="content-card">
                <app-portfolios-selected-stores></app-portfolios-selected-stores>
            </div>
        </div>
        <!-- / CONTENT CARD (INFORMASI PRODUK) -->
    </div>
    <!-- / CENTER -->
    <!-- Spinner Loader -->
    <div class="loader" *ngIf="isPortfolioLoading$ | async">
        <mat-spinner color="accent"></mat-spinner>
    </div>
    <!-- Spinner Loader -->
</div>