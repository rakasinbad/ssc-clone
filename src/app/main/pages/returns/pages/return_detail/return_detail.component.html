<div
    id="return-detail"
    class="page-layout carded fullwidth inner-scroll line-height-1.75"
    fusePerfectScrollbar
>
    <div class="top-bg accent with-navigation"></div>

    <app-header-detail
        [title]='returnInfoViewData$ ? (returnInfoViewData$ | async).returnNumber : null'
        [description]='returnInfoViewData$ ? (returnInfoViewData$ | async).storeName : null'
        [isLoading]='(isLoading$ | async)'>
    </app-header-detail>

    <div class="center">
        <div class="content-card">
            <div class="content" fusePerfectScrollbar>
                <app-document-info
                    [title]='"Return Info"'
                >
                    <div class="box-content__container" fxLayout="column" fxLayoutAlign="start stretch" fxFlex>
                        <app-document-info-detail
                            [title]='"Store Info"'
                            [isLoading]='isLoading$ | async'
                            [listInfoData]='
                                returnInfoViewData$ ? (returnInfoViewData$ | async).storeInfo :
                                defaultViewData.storeInfo'
                        >
                        </app-document-info-detail>
                    </div>

                    <div class="box-content__container" fxLayout="column" fxLayoutAlign="start stretch" fxFlex>
                        <app-document-info-detail
                            [title]='"Date"'
                            [isLoading]='isLoading$ | async'
                            [listInfoData]='
                                returnInfoViewData$ ? (returnInfoViewData$ | async).dateInfo :
                                defaultViewData.dateInfo'
                        >
                        </app-document-info-detail>
                    </div>

                    <div class="box-content__container" fxLayout="column" fxLayoutAlign="start stretch" fxFlex>
                        <app-document-info-detail
                            [title]='"Return Info"'
                            [isLoading]='isLoading$ | async'
                            [listInfoData]='
                                returnInfoViewData$ ? (returnInfoViewData$ | async).returnInfo :
                                defaultViewData.returnInfo'
                        >
                        </app-document-info-detail>
                    </div>
                </app-document-info>

                <app-document-info
                    [title]='"Return Line"'
                    *ngIf='returnInfoViewData$ != null'
                >
                    <mat-table
                        class="returns-table sinbad-table mx-12"
                        [class.sinbad-table-no-record]="
                           !(isLoading$ | async) &&
                           (returnInfoViewData$ | async).totalReturnLine === 0
                        "
                        #table
                        [dataSource]="(returnInfoViewData$ | async).returnLines"
                        matSort
                        [@animateStagger]="{ value: '50' }"
                        fusePerfectScrollbar
                    >
                        <app-table-row
                            [columnName]="'product-name'"
                            [title]="'Product Name'"
                            [key]="'name'"
                        ></app-table-row>

                        <app-table-row
                            [columnName]="'qty'"
                            [title]="'Qty'"
                            [key]="'qty'"
                        ></app-table-row>

                        <app-table-row
                            [columnName]="'unit-price'"
                            [title]="'Unit Price'"
                            [key]="'unitPrice'"
                        ></app-table-row>

                        <app-table-row
                            [columnName]="'sum-price'"
                            [title]="'Sum Price'"
                            [key]="'sumPrice'"
                        ></app-table-row>

                        <app-table-row
                            [columnName]="'return-reason'"
                            [title]="'Return Reason'"
                            [key]="'reason'"
                        ></app-table-row>

                        <app-table-row
                            [columnName]="'notes'"
                            [title]="'Notes'"
                            [key]="'note'"
                        ></app-table-row>

                        <ng-container matColumnDef="no-record">
                            <mat-footer-cell *matFooterCellDef colspan="10">
                                No records found
                            </mat-footer-cell>
                        </ng-container>

                        <mat-header-row *matHeaderRowDef="displayedReturnLineColumns; sticky: true"></mat-header-row>
                        <mat-row
                            *matRowDef="let row; columns: displayedReturnLineColumns"
                            class="return"
                            matRipple
                        >
                        </mat-row>
                        <mat-footer-row
                            *matFooterRowDef="['no-record']"
                            [fxShow]="!(isLoading$ | async) && (returnInfoViewData$ | async).totalReturnLine === 0"
                        ></mat-footer-row>
                    </mat-table>
                </app-document-info>

                <app-document-info
                    [title]='"Return Summary"'
                >
                    <div class="content-card">

                    </div>
                </app-document-info>


            </div>
        </div>
    </div>

    <div class="loader" *ngIf="isLoading$ | async">
        <mat-spinner color="accent"></mat-spinner>
    </div>
</div>